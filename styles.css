/* =========================================================
   CULTURA CANNABICA — Design System
   Chill · Rich · Smooth · Intentional
   ========================================================= */

/* ---------------------------------------------------------
   1. CUSTOM PROPERTIES
   --------------------------------------------------------- */
:root {
  /* Green palette (brand — untouched) */
  --green-900: #1a3409;
  --green-800: #2d5016;
  --green-700: #3a6620;
  --green-600: #4a7c2a;
  --green-500: #5a9235;
  --green-400: #72a850;
  --green-300: #95c278;
  --green-200: #b8dba0;
  --green-100: #daeece;
  --green-50:  #f0f7eb;

  /* Neutral palette */
  --n-950: #0c0c0c;
  --n-900: #171717;
  --n-800: #262626;
  --n-700: #404040;
  --n-600: #525252;
  --n-500: #737373;
  --n-400: #a3a3a3;
  --n-300: #d4d4d4;
  --n-200: #e5e5e5;
  --n-100: #f5f5f5;
  --n-50:  #fafafa;

  /* Semantic tokens */
  --accent: #2d5016;
  --accent-hover: #3a6620;
  --accent-light: #4a7c2a;
  --accent-surface: #f0f7eb;

  --text: #171717;
  --text-secondary: #525252;
  --text-muted: #737373;
  --text-inverse: #fafafa;

  --bg: #faf9f7;
  --bg-alt: #f3f1ec;
  --surface: #ffffff;
  --border: #e8e5df;
  --border-light: #f0ede8;

  /* Typography */
  --font-body: 'DM Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-display: 'Cormorant Garamond', Georgia, 'Times New Roman', serif;

  /* Layout */
  --container-max: 1280px;
  --container-px: clamp(1.25rem, 5vw, 2.5rem);
  --section-py: clamp(4rem, 8vw, 7rem);
  --gap: clamp(1rem, 2.5vw, 1.75rem);
  --header-height: 104px;

  /* Radius */
  --r-xs: 4px;
  --r-sm: 8px;
  --r-md: 12px;
  --r-lg: 16px;
  --r-xl: 24px;
  --r-full: 9999px;

  /* Shadows */
  --shadow-xs: 0 1px 2px rgba(0,0,0,.04);
  --shadow-sm: 0 2px 8px rgba(0,0,0,.06);
  --shadow-md: 0 4px 16px rgba(0,0,0,.08);
  --shadow-lg: 0 8px 32px rgba(0,0,0,.10);
  --shadow-xl: 0 16px 48px rgba(0,0,0,.12);

  /* Motion */
  --ease: cubic-bezier(.16, 1, .3, 1);
  --ease-in-out: cubic-bezier(.65, 0, .35, 1);
  --dur-fast: 150ms;
  --dur-normal: 300ms;
  --dur-slow: 600ms;
}

/* ---------------------------------------------------------
   2. RESET & BASE
   --------------------------------------------------------- */
*, *::before, *::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
}

body {
  font-family: var(--font-body);
  font-size: 16px;
  line-height: 1.6;
  color: var(--text);
  background: var(--bg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
  position: relative;
}

img {
  max-width: 100%;
  height: auto;
  display: block;
}

a {
  color: inherit;
  text-decoration: none;
}

button {
  font: inherit;
  cursor: pointer;
  border: none;
  background: none;
  color: inherit;
}

input, select, textarea {
  font: inherit;
  color: inherit;
}

ul, ol { list-style: none; }

/* ---------------------------------------------------------
   3. UTILITIES
   --------------------------------------------------------- */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0,0,0,0);
  white-space: nowrap;
  border: 0;
}

.skip-link {
  position: fixed;
  top: -100%;
  left: 1rem;
  z-index: 9999;
  background: var(--accent);
  color: white;
  padding: .75rem 1.5rem;
  border-radius: var(--r-sm);
  font-weight: 600;
  transition: top .3s var(--ease);
}

.skip-link:focus {
  top: 1rem;
}

.container {
  width: 100%;
  max-width: var(--container-max);
  margin: 0 auto;
  padding-left: var(--container-px);
  padding-right: var(--container-px);
}

.eyebrow {
  font-size: .72rem;
  font-weight: 500;
  letter-spacing: .14em;
  text-transform: uppercase;
  color: var(--accent);
  margin-bottom: .75rem;
}

.lead {
  font-size: clamp(1.05rem, 1.5vw, 1.2rem);
  line-height: 1.7;
  color: var(--text-secondary);
}

.muted {
  font-size: .875rem;
  color: var(--text-muted);
}

.strike {
  text-decoration: line-through;
  color: var(--text-muted);
  font-weight: 400;
  margin-right: .35rem;
}

/* ---------------------------------------------------------
   4. AMBIENT BACKGROUND
   --------------------------------------------------------- */
.ambient {
  position: fixed;
  border-radius: 50%;
  filter: blur(100px);
  opacity: .12;
  z-index: 0;
  pointer-events: none;
  will-change: transform;
  animation: ambient-float 30s ease-in-out infinite;
}

.ambient-one {
  width: clamp(300px, 50vw, 700px);
  height: clamp(300px, 50vw, 700px);
  background: radial-gradient(circle, var(--green-400), var(--green-200) 40%, transparent 70%);
  top: -10%;
  right: -10%;
}

.ambient-two {
  width: clamp(250px, 40vw, 550px);
  height: clamp(250px, 40vw, 550px);
  background: radial-gradient(circle, var(--green-300), var(--green-100) 40%, transparent 70%);
  bottom: 5%;
  left: -10%;
  animation-delay: -15s;
}

@keyframes ambient-float {
  0%, 100% { transform: translate(0, 0) scale(1); }
  25%      { transform: translate(30px, -25px) scale(1.05); }
  50%      { transform: translate(-25px, 20px) scale(.95); }
  75%      { transform: translate(20px, 30px) scale(1.03); }
}

/* ---------------------------------------------------------
   5. TOPBAR
   --------------------------------------------------------- */
.topbar {
  background: var(--green-900);
  color: rgba(255,255,255,.85);
  font-size: .78rem;
  letter-spacing: .02em;
  position: relative;
  z-index: 201;
}

.topbar__content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: .5rem;
  padding-bottom: .5rem;
  gap: 1rem;
}

.topbar__actions {
  display: flex;
  gap: 1.25rem;
}

.topbar__actions a {
  color: rgba(255,255,255,.7);
  transition: color var(--dur-fast);
}

.topbar__actions a:hover {
  color: white;
}

/* -- Language Switcher -- */
.lang-switcher {
  display: flex;
  align-items: center;
  gap: 2px;
  background: rgba(255,255,255,.08);
  border-radius: 4px;
  padding: 2px;
}

.lang-switcher__btn {
  padding: .2rem .45rem;
  font-size: .68rem;
  font-weight: 500;
  letter-spacing: .06em;
  color: rgba(255,255,255,.45);
  border-radius: 3px;
  transition: color var(--dur-fast), background var(--dur-fast);
  line-height: 1;
}

.lang-switcher__btn:hover {
  color: rgba(255,255,255,.8);
}

.lang-switcher__btn.is-active {
  color: white;
  background: rgba(255,255,255,.15);
}

/* ---------------------------------------------------------
   6. NAVIGATION — Fixed header with scroll-away
   --------------------------------------------------------- */
body {
  padding-top: var(--header-height);
  transition: padding-top 0.4s var(--ease);
}

body.header-hidden {
  padding-top: 0;
}

.site-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 200;
  transform: translateY(0);
  transition: transform 0.4s var(--ease), box-shadow 0.3s var(--ease);
  will-change: transform;
}

.site-header.site-header--hidden {
  transform: translateY(-100%);
}

.site-header.is-scrolled .nav {
  box-shadow: var(--shadow-sm);
}

.nav {
  background: rgba(255,255,255,.92);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-bottom: 1px solid var(--border-light);
  position: relative;
  z-index: 200;
  transition: box-shadow 0.3s var(--ease);
}

.nav__content {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 2rem;
  height: 68px;
}

.nav__brand {
  display: flex;
  align-items: center;
  gap: .5rem;
  flex-shrink: 0;
}

.nav__brand-logo img {
  height: 40px;
  width: auto;
}

.nav__toggle {
  display: none;
  font-size: .85rem;
  font-weight: 600;
  color: var(--text);
  padding: .5rem .75rem;
  border-radius: var(--r-sm);
  transition: background var(--dur-fast);
}

.nav__toggle:hover {
  background: var(--bg-alt);
}

.nav__links {
  display: flex;
  align-items: center;
  gap: .25rem;
}

.nav__links a {
  font-size: .82rem;
  font-weight: 500;
  letter-spacing: .03em;
  color: var(--text-secondary);
  padding: .5rem .85rem;
  border-radius: 4px;
  transition: color var(--dur-normal) var(--ease), background var(--dur-normal) var(--ease);
  white-space: nowrap;
}

.nav__links a:hover,
.nav__links a.is-active {
  color: var(--text);
  background: transparent;
}

.nav__actions {
  display: flex;
  align-items: center;
  gap: .5rem;
  flex-shrink: 0;
}

/* ---------------------------------------------------------
   7. BUTTONS
   --------------------------------------------------------- */

/* -- Primary (green solid) -- */
a.primary,
button.primary,
.btn--primary {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .5rem;
  padding: .8rem 1.75rem;
  background: var(--accent);
  color: white;
  font-size: .8rem;
  font-weight: 500;
  letter-spacing: .08em;
  text-transform: uppercase;
  border-radius: 6px;
  border: none;
  cursor: pointer;
  transition: background var(--dur-normal) var(--ease),
              transform var(--dur-normal) var(--ease),
              box-shadow var(--dur-normal) var(--ease);
  white-space: nowrap;
  text-decoration: none;
}

a.primary:hover,
button.primary:hover,
.btn--primary:hover {
  background: var(--accent-hover);
  transform: translateY(-1px);
  box-shadow: 0 6px 20px rgba(45,80,22,.2);
}

a.primary:active,
button.primary:active,
.btn--primary:active {
  transform: translateY(0);
}

/* -- Ghost (outline) -- */
a.ghost,
button.ghost,
.btn--ghost {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .5rem;
  padding: .75rem 1.35rem;
  background: transparent;
  color: var(--text);
  font-size: .8rem;
  font-weight: 500;
  letter-spacing: .04em;
  border-radius: 6px;
  border: 1px solid var(--border);
  cursor: pointer;
  transition: border-color var(--dur-normal) var(--ease),
              color var(--dur-normal) var(--ease),
              background var(--dur-normal) var(--ease);
  white-space: nowrap;
  text-decoration: none;
}

a.ghost:hover,
button.ghost:hover,
.btn--ghost:hover {
  border-color: var(--accent);
  color: var(--accent);
  background: transparent;
}

/* -- Large variants -- */
a.primary.large,
button.primary.large,
.btn--large {
  padding: .95rem 2.25rem;
  font-size: .82rem;
}

/* -- Icon button -- */
.btn--icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 6px;
  border: 1px solid var(--border);
  background: var(--surface);
  color: var(--text-secondary);
  transition: all var(--dur-normal) var(--ease);
  flex-shrink: 0;
}

.btn--icon:hover {
  border-color: var(--accent);
  color: var(--accent);
  background: transparent;
}

/* ---------------------------------------------------------
   8. SECTIONS & HEADERS
   --------------------------------------------------------- */
.section {
  position: relative;
  z-index: 1;
  padding-top: var(--section-py);
  padding-bottom: var(--section-py);
}

.section--alt {
  background: var(--bg-alt);
}

.section--green {
  background: var(--accent-surface);
}

.section__header {
  margin-bottom: clamp(2.5rem, 4vw, 3.5rem);
}

.section__header h2 {
  font-family: var(--font-display);
  font-size: clamp(2rem, 4.5vw, 3.2rem);
  font-weight: 600;
  line-height: 1.15;
  color: var(--text);
  margin-bottom: .5rem;
}

.section__header p {
  color: var(--text-muted);
  font-size: 1.05rem;
  max-width: 500px;
}

.section__header-row {
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  gap: 1.5rem;
  flex-wrap: wrap;
}

/* ---------------------------------------------------------
   9. HERO (HOME)
   --------------------------------------------------------- */
.hero {
  position: relative;
  z-index: 1;
  padding: clamp(7rem, 12vw, 10rem) 0 var(--section-py);
  overflow: hidden;
}

.hero__grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: clamp(2rem, 5vw, 4rem);
  align-items: center;
}

.hero__content {
  max-width: 560px;
}

.hero h1 {
  font-family: var(--font-display);
  font-size: clamp(3rem, 7vw, 5rem);
  font-weight: 600;
  line-height: 1.05;
  color: var(--text);
  margin-bottom: 1.25rem;
}

.hero h1 em {
  font-style: italic;
  color: var(--accent);
}

.hero .lead {
  margin-bottom: 2rem;
}

.hero__actions {
  display: flex;
  gap: .75rem;
  flex-wrap: wrap;
  margin-bottom: 3rem;
}

.hero__stats {
  display: flex;
  gap: 2.5rem;
  padding-top: 2rem;
  border-top: 1px solid var(--border);
}

.hero__stat-number {
  font-family: var(--font-display);
  font-size: 2rem;
  font-weight: 600;
  color: var(--accent);
  line-height: 1.1;
}

.hero__stat-label {
  font-size: .82rem;
  color: var(--text-muted);
  font-weight: 500;
  margin-top: .15rem;
}

.hero__visual {
  position: relative;
  display: flex;
  justify-content: center;
}

.hero__image {
  width: 100%;
  max-width: 500px;
  aspect-ratio: 4 / 5;
  object-fit: cover;
  border-radius: var(--r-xl);
  box-shadow: var(--shadow-xl);
}

.hero__image-badge {
  position: absolute;
  bottom: 2rem;
  left: -1rem;
  background: var(--surface);
  padding: .85rem 1.15rem;
  border-radius: 8px;
  box-shadow: var(--shadow-lg);
  display: flex;
  align-items: center;
  gap: .75rem;
  font-size: .85rem;
}

.hero__image-badge .dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: var(--green-500);
  animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; transform: scale(1); }
  50%      { opacity: .5; transform: scale(.8); }
}

/* ---------------------------------------------------------
   10. MARQUEE
   --------------------------------------------------------- */
.marquee {
  background: var(--green-900);
  color: rgba(255,255,255,.6);
  padding: .85rem 0;
  overflow: hidden;
  position: relative;
  z-index: 1;
  font-size: .75rem;
  font-weight: 400;
  letter-spacing: .12em;
  text-transform: uppercase;
}

.marquee__track {
  display: flex;
  gap: 2.5rem;
  width: max-content;
  animation: marquee-scroll 40s linear infinite;
}

.marquee__track span {
  white-space: nowrap;
  display: flex;
  align-items: center;
  gap: 2.5rem;
}

.marquee__track span::after {
  content: '·';
  color: var(--green-400);
}

@keyframes marquee-scroll {
  0%   { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

/* ---------------------------------------------------------
   11. CATEGORY CARDS
   --------------------------------------------------------- */
.categories__grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--gap);
}

.category-card {
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  padding: 1.75rem;
  border-radius: var(--r-lg);
  background: var(--surface);
  border: 1px solid var(--border);
  min-height: 200px;
  overflow: hidden;
  text-decoration: none;
  color: var(--text);
  transition: border-color var(--dur-normal) var(--ease),
              transform var(--dur-normal) var(--ease),
              box-shadow var(--dur-normal) var(--ease);
}

.category-card:hover {
  border-color: var(--n-300);
  transform: translateY(-2px);
  box-shadow: var(--shadow-sm);
}

.category-card--feature {
  grid-column: span 2;
  min-height: 260px;
  background: var(--accent-surface);
  border-color: var(--green-100);
}

.category-card__icon {
  width: 48px;
  height: 48px;
  border-radius: var(--r-md);
  background: var(--accent-surface);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 1rem;
  color: var(--accent);
  flex-shrink: 0;
}

.category-card--feature .category-card__icon {
  background: rgba(255,255,255,.6);
}

.category-card__title {
  font-family: var(--font-display);
  font-size: 1.35rem;
  font-weight: 600;
  margin-bottom: .25rem;
}

.category-card__description {
  font-size: .85rem;
  color: var(--text-muted);
  margin-bottom: .75rem;
  line-height: 1.5;
}

.category-card__link {
  font-size: .75rem;
  font-weight: 500;
  letter-spacing: .06em;
  text-transform: uppercase;
  color: var(--accent);
  display: inline-flex;
  align-items: center;
  gap: .3rem;
}

/* ---------------------------------------------------------
   12. PRODUCT CARDS
   --------------------------------------------------------- */
.products__grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: var(--gap);
}

/* legacy grid class from old homepage */
.products-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: var(--gap);
}

.product-card {
  display: flex;
  flex-direction: column;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-md);
  overflow: hidden;
  transition: border-color var(--dur-normal) var(--ease),
              transform var(--dur-normal) var(--ease),
              box-shadow var(--dur-normal) var(--ease);
  text-decoration: none;
  color: var(--text);
}

.product-card:hover {
  border-color: var(--n-300);
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
}

.product-card__image-wrapper {
  position: relative;
  overflow: hidden;
}

.product-card img {
  width: 100%;
  aspect-ratio: 1;
  object-fit: cover;
  transition: transform .6s var(--ease);
}

.product-card:hover img {
  transform: scale(1.05);
}

.product-card__image {
  width: 100%;
  aspect-ratio: 1;
  background: var(--bg-alt);
  overflow: hidden;
  position: relative;
}

.product-card__image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform .6s var(--ease);
}

.product-card:hover .product-card__image img {
  transform: scale(1.05);
}

.product-card__overlay {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,.25);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity var(--dur-normal) var(--ease);
}

.product-card:hover .product-card__overlay {
  opacity: 1;
}

.product-card__quick-view {
  padding: .65rem 1.25rem;
  background: white;
  color: var(--text);
  font-size: .75rem;
  font-weight: 500;
  letter-spacing: .06em;
  text-transform: uppercase;
  border-radius: 4px;
  transform: translateY(8px);
  transition: transform var(--dur-normal) var(--ease);
}

.product-card:hover .product-card__quick-view {
  transform: translateY(0);
}

.product-card__badge {
  position: absolute;
  top: .75rem;
  left: .75rem;
  z-index: 2;
  padding: .25rem .6rem;
  font-size: .65rem;
  font-weight: 500;
  letter-spacing: .08em;
  text-transform: uppercase;
  border-radius: 3px;
  background: var(--accent);
  color: white;
}

.product-card__badge--popular {
  background: var(--green-600);
}

.product-card__badge--chill {
  background: #7c6a46;
}

.product-card > div:not(.product-card__image-wrapper) {
  padding: 1.1rem 1.25rem;
  display: flex;
  flex-direction: column;
  gap: .25rem;
  flex: 1;
}

.product-card__content {
  padding: 1.1rem 1.25rem;
  display: flex;
  flex-direction: column;
  gap: .25rem;
  flex: 1;
}

.product-card__tag {
  font-size: .7rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: .1em;
  color: var(--accent);
}

.product-card__category {
  font-size: .72rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: .08em;
  color: var(--accent);
}

.product-card__name,
.product-card h3 {
  font-size: 1rem;
  font-weight: 600;
  line-height: 1.3;
  color: var(--text);
}

.product-card__meta {
  font-size: .82rem;
  color: var(--text-muted);
}

.product-card__footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: .75rem;
  margin-top: auto;
  padding-top: .5rem;
}

.product-card__price,
.product-card__price-amount {
  font-size: 1.15rem;
  font-weight: 700;
  color: var(--accent);
}

.product-card__price-unit {
  font-size: .8rem;
  font-weight: 400;
  color: var(--text-muted);
}

/* product card CTA link */
.product-card > a.primary {
  margin: 0 1.25rem 1.25rem;
  text-align: center;
}

/* ---------------------------------------------------------
   13. SPOTLIGHT SECTION
   --------------------------------------------------------- */
.spotlight {
  background: var(--accent-surface);
}

.spotlight__grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: clamp(2rem, 5vw, 4rem);
  align-items: center;
}

.spotlight__image {
  border-radius: var(--r-xl);
  overflow: hidden;
  box-shadow: var(--shadow-lg);
}

.spotlight__image img {
  width: 100%;
  aspect-ratio: 4 / 3;
  object-fit: cover;
}

.spotlight__content {
  max-width: 480px;
}

.spotlight__content h2 {
  font-family: var(--font-display);
  font-size: clamp(2.2rem, 4.5vw, 3.4rem);
  font-weight: 600;
  line-height: 1.1;
  color: var(--text);
  margin-bottom: .75rem;
}

.spotlight__content .lead {
  margin-bottom: 2rem;
}

.spotlight__tags {
  display: flex;
  gap: .5rem;
  flex-wrap: wrap;
  margin-bottom: 1.5rem;
}

.spotlight__tag {
  padding: .35rem .85rem;
  background: rgba(255,255,255,.6);
  border-radius: 4px;
  font-size: .72rem;
  font-weight: 500;
  letter-spacing: .06em;
  text-transform: uppercase;
  color: var(--accent);
}

/* ---------------------------------------------------------
   14. TRUST / VALUES
   --------------------------------------------------------- */
.trust__grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--gap);
}

.trust__card {
  text-align: center;
  padding: 2rem 1.5rem;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-md);
  transition: transform var(--dur-normal) var(--ease),
              box-shadow var(--dur-normal) var(--ease);
}

.trust__card:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-sm);
}

.trust__icon {
  width: 52px;
  height: 52px;
  margin: 0 auto 1rem;
  border-radius: var(--r-md);
  background: var(--accent-surface);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--accent);
}

.trust__card h3 {
  font-size: 1rem;
  font-weight: 600;
  margin-bottom: .35rem;
}

.trust__card p {
  font-size: .85rem;
  color: var(--text-muted);
  line-height: 1.5;
}

/* ---------------------------------------------------------
   15. NEWSLETTER / CTA
   --------------------------------------------------------- */
.newsletter__card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  padding: clamp(2.5rem, 5vw, 4rem);
  text-align: center;
  max-width: 680px;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
}

.newsletter__card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--green-400), var(--green-600), var(--green-400));
}

.newsletter__card h2 {
  font-family: var(--font-display);
  font-size: clamp(1.8rem, 3.5vw, 2.6rem);
  font-weight: 600;
  margin-bottom: .5rem;
}

.newsletter__card > p {
  color: var(--text-muted);
  margin-bottom: 1.75rem;
  max-width: 420px;
  margin-left: auto;
  margin-right: auto;
}

.newsletter__form {
  display: flex;
  gap: .5rem;
  max-width: 440px;
  margin: 0 auto 1rem;
}

.newsletter__form input {
  flex: 1;
  padding: .8rem 1.15rem;
  border: 1px solid var(--border);
  border-radius: 6px;
  background: var(--bg);
  transition: border-color var(--dur-normal) var(--ease);
  font-size: .85rem;
}

.newsletter__form input:focus {
  outline: none;
  border-color: var(--accent);
}

.newsletter__form input::placeholder {
  color: var(--n-400);
}

.newsletter__privacy {
  font-size: .78rem;
  color: var(--text-muted);
}

/* Also handle old CTA section class */
.cta-section {
  position: relative;
  z-index: 1;
  padding: var(--section-py) 0;
}

.cta-section__content {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-xl);
  padding: clamp(2.5rem, 5vw, 4rem);
  text-align: center;
  max-width: 680px;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
}

.cta-section__content::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--green-400), var(--green-600), var(--green-400));
}

.cta-section__icon {
  color: var(--accent);
  margin-bottom: 1rem;
}

.cta-section__title {
  font-family: var(--font-display);
  font-size: clamp(1.6rem, 3vw, 2.2rem);
  font-weight: 700;
  margin-bottom: .5rem;
}

.cta-section__subtitle {
  color: var(--text-muted);
  margin-bottom: 1.75rem;
  max-width: 420px;
  margin-left: auto;
  margin-right: auto;
}

.cta-section__form {
  max-width: 440px;
  margin: 0 auto;
}

.cta-section__input-wrapper {
  display: flex;
  gap: .5rem;
  margin-bottom: .75rem;
}

.cta-section__input {
  flex: 1;
  padding: .8rem 1.15rem;
  border: 1px solid var(--border);
  border-radius: 6px;
  background: var(--bg);
  transition: border-color var(--dur-normal) var(--ease);
  font-size: .85rem;
}

.cta-section__input:focus {
  outline: none;
  border-color: var(--accent);
}

.cta-section__input::placeholder {
  color: var(--n-400);
}

.cta-section__privacy {
  font-size: .78rem;
  color: var(--text-muted);
}

/* ---------------------------------------------------------
   16. SHOP PAGE
   --------------------------------------------------------- */
.shop-hero {
  padding-top: clamp(7rem, 10vw, 9rem);
  padding-bottom: 0;
}

.shop-hero__grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  align-items: center;
}

.shop-hero h1 {
  font-family: var(--font-display);
  font-size: clamp(2rem, 4vw, 3rem);
  font-weight: 700;
  line-height: 1.15;
  margin-bottom: .75rem;
}

.shop-hero__card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  padding: 1.75rem;
  display: flex;
  flex-direction: column;
  gap: .5rem;
}

.shop-hero__card h3 {
  font-size: 1.15rem;
  font-weight: 600;
}

.shop-hero__card a.primary {
  align-self: flex-start;
  margin-top: .5rem;
}

/* Filters */
.shop__filters {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 1rem;
  margin-bottom: 2rem;
  padding: 1.25rem;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
}

.search {
  flex: 1;
  min-width: 200px;
}

.search input {
  width: 100%;
  padding: .7rem 1rem;
  border: 1px solid var(--border);
  border-radius: 6px;
  background: var(--bg);
  font-size: .85rem;
  transition: border-color var(--dur-normal) var(--ease);
}

.search input:focus {
  outline: none;
  border-color: var(--accent);
}

.search input::placeholder {
  color: var(--n-400);
}

.chips {
  display: flex;
  gap: .4rem;
  flex-wrap: wrap;
}

.chip {
  padding: .45rem .95rem;
  border: 1px solid var(--border);
  border-radius: 4px;
  font-size: .78rem;
  font-weight: 500;
  letter-spacing: .03em;
  color: var(--text-secondary);
  background: transparent;
  cursor: pointer;
  transition: all var(--dur-normal) var(--ease);
  white-space: nowrap;
}

.chip:hover {
  border-color: var(--accent);
  color: var(--accent);
}

.chip.is-active {
  background: var(--accent);
  border-color: var(--accent);
  color: white;
}

.sort {
  flex-shrink: 0;
}

.sort label {
  display: flex;
  align-items: center;
  gap: .5rem;
  font-size: .82rem;
  color: var(--text-muted);
  font-weight: 500;
}

.sort select {
  padding: .45rem .75rem;
  border: 1.5px solid var(--border);
  border-radius: var(--r-sm);
  background: var(--bg);
  font-size: .82rem;
  cursor: pointer;
}

.sort select:focus {
  outline: none;
  border-color: var(--accent);
}

.shop__loading,
.shop__empty {
  text-align: center;
  padding: 3rem 1rem;
}

/* ---------------------------------------------------------
   17. PRODUCT DETAIL PAGE
   --------------------------------------------------------- */
.product__grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: clamp(2rem, 4vw, 3.5rem);
  align-items: start;
  padding-top: clamp(7rem, 10vw, 9rem);
}

.product__gallery {
  position: sticky;
  top: 120px;
}

.product__main {
  width: 100%;
  aspect-ratio: 1;
  object-fit: cover;
  border-radius: var(--r-xl);
  background: var(--bg-alt);
}

.product__thumbs {
  display: flex;
  gap: .5rem;
  margin-top: .75rem;
}

.product__thumbs img {
  width: 72px;
  height: 72px;
  object-fit: cover;
  border-radius: var(--r-sm);
  border: 2px solid transparent;
  cursor: pointer;
  transition: border-color var(--dur-fast);
}

.product__thumbs img.is-active,
.product__thumbs img:hover {
  border-color: var(--accent);
}

.product__info {
  display: flex;
  flex-direction: column;
  gap: .75rem;
}

.product__info h1 {
  font-family: var(--font-display);
  font-size: clamp(1.6rem, 3vw, 2.2rem);
  font-weight: 700;
  line-height: 1.2;
}

.product__price {
  font-size: 1.3rem;
  font-weight: 700;
  color: var(--accent);
  display: flex;
  align-items: baseline;
  gap: .5rem;
  flex-wrap: wrap;
}

.product__meta {
  display: flex;
  gap: .5rem;
  flex-wrap: wrap;
}

.product__meta span {
  padding: .3rem .75rem;
  background: var(--accent-surface);
  border-radius: 4px;
  font-size: .72rem;
  font-weight: 500;
  letter-spacing: .04em;
  color: var(--accent);
}

.product__buy {
  display: flex;
  align-items: center;
  gap: .75rem;
  flex-wrap: wrap;
  margin-top: .75rem;
}

.product__details {
  padding-top: 1.25rem;
  border-top: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  gap: .35rem;
  margin-top: .5rem;
}

.product__details p {
  font-size: .875rem;
  color: var(--text-secondary);
}

/* ---------------------------------------------------------
   18. TABS
   --------------------------------------------------------- */
.product-tabs {
  padding-top: 0;
}

.tabs {
  display: flex;
  gap: .25rem;
  border-bottom: 1.5px solid var(--border);
  margin-bottom: 1.5rem;
  overflow-x: auto;
}

.tab {
  padding: .75rem 1.25rem;
  font-size: .875rem;
  font-weight: 500;
  color: var(--text-muted);
  border-bottom: 2px solid transparent;
  margin-bottom: -1.5px;
  white-space: nowrap;
  transition: color var(--dur-fast), border-color var(--dur-fast);
}

.tab:hover {
  color: var(--text);
}

.tab.is-active {
  color: var(--accent);
  border-bottom-color: var(--accent);
}

.tab-panels {
  min-height: 80px;
}

.tab-panel {
  display: none;
}

.tab-panel.is-active {
  display: block;
  animation: fade-in .4s var(--ease);
}

.tab-panel p {
  color: var(--text-secondary);
  line-height: 1.7;
  max-width: 640px;
}

.tab-panel ul {
  display: flex;
  flex-direction: column;
  gap: .5rem;
}

.tab-panel li {
  color: var(--text-secondary);
  padding-left: 1.25rem;
  position: relative;
}

.tab-panel li::before {
  content: '';
  position: absolute;
  left: 0;
  top: .55rem;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--accent);
}

@keyframes fade-in {
  from { opacity: 0; transform: translateY(6px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* ---------------------------------------------------------
   19. QUANTITY SELECTOR
   --------------------------------------------------------- */
.qty {
  display: inline-flex;
  align-items: center;
  border: 1px solid var(--border);
  border-radius: 6px;
  overflow: hidden;
}

.qty__btn {
  width: 38px;
  height: 38px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.1rem;
  font-weight: 500;
  color: var(--text-secondary);
  transition: background var(--dur-fast), color var(--dur-fast);
}

.qty__btn:hover {
  background: var(--accent-surface);
  color: var(--accent);
}

.qty__value {
  min-width: 36px;
  text-align: center;
  font-size: .9rem;
  font-weight: 600;
}

/* ---------------------------------------------------------
   20. CART PAGE
   --------------------------------------------------------- */
.cart__grid {
  display: grid;
  grid-template-columns: 1fr 360px;
  gap: 2rem;
  align-items: start;
}

.cart .section__header {
  padding-top: clamp(2rem, 4vw, 3rem);
}

.cart__table-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  overflow: hidden;
}

.cart-table {
  width: 100%;
  border-collapse: collapse;
}

.cart-table th {
  text-align: left;
  padding: 1rem 1.25rem;
  font-size: .78rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: .06em;
  color: var(--text-muted);
  border-bottom: 1px solid var(--border);
  background: var(--bg);
}

.cart-table td {
  padding: 1rem 1.25rem;
  font-size: .9rem;
  vertical-align: middle;
  border-bottom: 1px solid var(--border-light);
}

.cart-table__product {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.cart-table__product img {
  width: 64px;
  height: 64px;
  object-fit: cover;
  border-radius: var(--r-sm);
  flex-shrink: 0;
}

.cart-table__product h3 {
  font-size: .95rem;
  font-weight: 600;
}

.cart-table__remove {
  font-size: .78rem;
  padding: .35rem .75rem;
}

.cart__actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.25rem;
  gap: 1rem;
  flex-wrap: wrap;
}

.coupon {
  display: flex;
  gap: .5rem;
}

.coupon input {
  padding: .55rem .9rem;
  border: 1.5px solid var(--border);
  border-radius: var(--r-sm);
  font-size: .85rem;
  background: var(--bg);
}

.coupon input:focus {
  outline: none;
  border-color: var(--accent);
}

.cart__summary,
.checkout__summary {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  padding: 1.75rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
  position: sticky;
  top: 120px;
}

.cart__summary h3,
.checkout__summary h3 {
  font-family: var(--font-display);
  font-size: 1.25rem;
  font-weight: 700;
}

.summary-row {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 1rem;
  padding: .75rem 0;
  border-bottom: 1px solid var(--border-light);
  font-size: .9rem;
}

.summary-total {
  font-weight: 700;
  font-size: 1.1rem;
  border-bottom: none;
  padding-top: 1rem;
  border-top: 1.5px solid var(--border);
}

.summary-shipping {
  display: flex;
  flex-direction: column;
  gap: .5rem;
  text-align: right;
}

.summary-shipping label {
  display: flex;
  align-items: center;
  gap: .4rem;
  font-size: .85rem;
  cursor: pointer;
  justify-content: flex-end;
}

.summary-shipping input[type="radio"] {
  accent-color: var(--accent);
}

.summary-item {
  display: flex;
  justify-content: space-between;
  gap: 1rem;
  font-size: .875rem;
  color: var(--text-secondary);
  padding: .5rem 0;
  border-bottom: 1px solid var(--border-light);
}

.cart__summary > a.primary,
.checkout__summary > button.primary {
  width: 100%;
  margin-top: .5rem;
}

/* ---------------------------------------------------------
   21. CHECKOUT PAGE
   --------------------------------------------------------- */
.checkout {
  padding-top: clamp(7rem, 10vw, 9rem);
}

.checkout__grid {
  display: grid;
  grid-template-columns: 1fr 400px;
  gap: 2rem;
  align-items: start;
}

.checkout__notice {
  background: var(--accent-surface);
  border: 1px solid var(--green-100);
  border-radius: var(--r-md);
  padding: 1rem 1.25rem;
  margin-bottom: 2rem;
  display: flex;
  align-items: center;
  gap: .75rem;
  flex-wrap: wrap;
  font-size: .9rem;
}

.checkout__coupon {
  display: flex;
  gap: .5rem;
  width: 100%;
  margin-top: .5rem;
}

.checkout__coupon input {
  flex: 1;
  padding: .6rem .9rem;
  border: 1.5px solid var(--border);
  border-radius: var(--r-sm);
  font-size: .85rem;
  background: white;
}

.checkout__coupon input:focus {
  outline: none;
  border-color: var(--accent);
}

.checkout__form h3 {
  font-family: var(--font-display);
  font-size: 1.25rem;
  font-weight: 700;
  margin-bottom: 1.25rem;
}

.form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
  margin-bottom: 1.5rem;
}

.form-grid label {
  display: flex;
  flex-direction: column;
  gap: .35rem;
  font-size: .85rem;
  font-weight: 500;
  color: var(--text-secondary);
}

.form-grid label.span-2 {
  grid-column: span 2;
}

.form-grid input,
.form-grid select,
.form-grid textarea {
  padding: .7rem .9rem;
  border: 1.5px solid var(--border);
  border-radius: var(--r-sm);
  background: var(--surface);
  font-size: .9rem;
  transition: border-color var(--dur-fast);
}

.form-grid input:focus,
.form-grid select:focus,
.form-grid textarea:focus {
  outline: none;
  border-color: var(--accent);
}

.form-toggle {
  display: flex;
  align-items: center;
  gap: .5rem;
  font-size: .9rem;
  font-weight: 500;
  cursor: pointer;
  margin-bottom: 1.5rem;
}

.form-toggle input[type="checkbox"] {
  accent-color: var(--accent);
  width: 16px;
  height: 16px;
}

/* Standalone label in checkout */
.checkout__form > label.span-2 {
  display: flex;
  flex-direction: column;
  gap: .35rem;
  font-size: .85rem;
  font-weight: 500;
  color: var(--text-secondary);
}

.checkout__form textarea {
  padding: .7rem .9rem;
  border: 1.5px solid var(--border);
  border-radius: var(--r-sm);
  background: var(--surface);
  font-size: .9rem;
  resize: vertical;
  transition: border-color var(--dur-fast);
}

.checkout__form textarea:focus {
  outline: none;
  border-color: var(--accent);
}

.payment {
  display: flex;
  flex-direction: column;
  gap: .5rem;
  padding: 1rem 0;
  border-top: 1px solid var(--border-light);
}

.payment label {
  display: flex;
  align-items: flex-start;
  gap: .5rem;
  font-size: .875rem;
  cursor: pointer;
  padding: .5rem;
  border-radius: var(--r-sm);
  transition: background var(--dur-fast);
}

.payment label:hover {
  background: var(--bg);
}

.payment input[type="radio"] {
  accent-color: var(--accent);
  margin-top: .15rem;
}

.payment .muted {
  display: block;
  font-size: .78rem;
  margin-top: .1rem;
}

.terms {
  display: flex;
  align-items: flex-start;
  gap: .5rem;
  font-size: .82rem;
  color: var(--text-secondary);
  cursor: pointer;
}

.terms input[type="checkbox"] {
  accent-color: var(--accent);
  margin-top: .15rem;
}

.terms a {
  color: var(--accent);
  text-decoration: underline;
}

.status {
  font-size: .82rem;
  color: #b45309;
  font-weight: 500;
}

/* ---------------------------------------------------------
   22. AUTH / ACCOUNT PAGE
   --------------------------------------------------------- */
.auth {
  padding-top: clamp(7rem, 10vw, 9rem);
}

.auth__grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: clamp(2rem, 5vw, 4rem);
  align-items: center;
}

.auth h1 {
  font-family: var(--font-display);
  font-size: clamp(1.8rem, 3.5vw, 2.6rem);
  font-weight: 700;
  line-height: 1.15;
  margin-bottom: .75rem;
}

.auth .lead {
  margin-bottom: 1.5rem;
}

.auth__list {
  display: flex;
  flex-direction: column;
  gap: .5rem;
}

.auth__list li {
  padding-left: 1.5rem;
  position: relative;
  font-size: .9rem;
  color: var(--text-secondary);
}

.auth__list li::before {
  content: '';
  position: absolute;
  left: 0;
  top: .5rem;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--green-400);
}

.auth__card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  padding: 2rem;
}

.auth__card .tabs {
  margin-bottom: 1.5rem;
}

.auth__card form {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.auth__card label {
  display: flex;
  flex-direction: column;
  gap: .35rem;
  font-size: .85rem;
  font-weight: 500;
  color: var(--text-secondary);
}

.auth__card input[type="email"],
.auth__card input[type="password"],
.auth__card input[type="text"] {
  padding: .75rem 1rem;
  border: 1.5px solid var(--border);
  border-radius: var(--r-sm);
  background: var(--bg);
  font-size: .9rem;
  transition: border-color var(--dur-fast);
}

.auth__card input:focus {
  outline: none;
  border-color: var(--accent);
}

.auth__card .terms {
  margin-top: .25rem;
}

/* ---------------------------------------------------------
   23. ORDER SUCCESS PAGE
   --------------------------------------------------------- */
.success {
  padding-top: clamp(7rem, 10vw, 9rem);
}

.success__card {
  text-align: center;
  max-width: 640px;
  margin: 0 auto;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--r-xl);
  padding: clamp(2.5rem, 5vw, 4rem);
}

.success h1 {
  font-family: var(--font-display);
  font-size: clamp(1.8rem, 3.5vw, 2.6rem);
  font-weight: 700;
  margin-bottom: .75rem;
}

.success .lead {
  margin-bottom: 2rem;
  max-width: 440px;
  margin-left: auto;
  margin-right: auto;
}

.success__summary {
  display: flex;
  justify-content: center;
  gap: 2.5rem;
  padding: 1.5rem;
  background: var(--bg);
  border-radius: var(--r-md);
  margin-bottom: 2rem;
  flex-wrap: wrap;
}

.success__summary div {
  text-align: center;
}

.meta__title {
  font-size: .72rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: .08em;
  color: var(--text-muted);
  margin-bottom: .2rem;
}

.success__actions {
  display: flex;
  gap: .75rem;
  justify-content: center;
  flex-wrap: wrap;
}

/* ---------------------------------------------------------
   24. FOOTER
   --------------------------------------------------------- */
.footer {
  background: var(--n-900);
  color: var(--n-300);
  position: relative;
  z-index: 1;
  margin-top: var(--section-py);
}

.footer__grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 2rem;
  padding-top: clamp(3rem, 5vw, 4rem);
  padding-bottom: clamp(3rem, 5vw, 4rem);
}

.footer h3 {
  font-size: .78rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: .1em;
  color: var(--n-50);
  margin-bottom: .75rem;
}

.footer p,
.footer a {
  font-size: .875rem;
  color: var(--n-400);
  line-height: 1.8;
}

.footer a:hover {
  color: var(--green-300);
}

.footer__logo {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: .75rem;
}

.footer__logo .nav__brand-logo img {
  height: 40px;
  width: auto;
  filter: brightness(0) invert(1);
  opacity: .7;
}

.footer__logo span:last-child {
  font-size: .78rem;
  color: var(--n-500);
}

/* Old footer structure compatibility */
.footer__content {
  display: grid;
  grid-template-columns: 1.5fr 2fr;
  gap: 3rem;
}

.footer__brand {
  display: flex;
  flex-direction: column;
  gap: .5rem;
}

.footer__brand h3 {
  font-family: var(--font-display);
  font-size: 1.2rem;
  color: var(--n-50);
}

.footer__description {
  font-size: .875rem;
  color: var(--n-400);
  max-width: 280px;
}

.footer__links {
  display: flex;
  gap: 2rem;
}

.footer__column {
  display: flex;
  flex-direction: column;
  gap: .35rem;
}

.footer__column-title {
  font-size: .82rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: .08em;
  color: var(--n-50);
  margin-bottom: .5rem;
}

.footer__link {
  font-size: .875rem;
  color: var(--n-400);
  transition: color var(--dur-fast);
}

.footer__link:hover {
  color: var(--green-300);
}

.footer__bottom {
  border-top: 1px solid var(--n-800);
  padding: 1.5rem 0;
  margin-top: 2rem;
}

.footer__copyright {
  font-size: .78rem;
  color: var(--n-500);
}

/* ---------------------------------------------------------
   25. IMMERSIVE 3D SECTION
   --------------------------------------------------------- */
.immersive__card {
  width: 100%;
  min-height: 500px;
  background: rgba(0, 0, 0, 0.96);
  border-radius: var(--r-xl);
  position: relative;
  overflow: hidden;
}

.immersive__spotlight {
  pointer-events: none;
  position: absolute;
  z-index: 1;
  height: 169%;
  width: 138%;
  opacity: 0;
  top: -40%;
  left: 0;
}

@media (min-width: 1024px) {
  .immersive__spotlight {
    width: 84%;
    left: 60px;
    top: -20%;
  }
}

@keyframes spotlight {
  0% {
    opacity: 0;
    transform: translate(-72%, -62%) scale(0.5);
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -40%) scale(1);
  }
}

.animate-spotlight {
  animation: spotlight 2s ease 0.75s 1 forwards;
}

.immersive__grid {
  display: flex;
  height: 100%;
  min-height: 500px;
}

.immersive__content {
  flex: 1;
  padding: clamp(2rem, 4vw, 3.5rem);
  position: relative;
  z-index: 10;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.immersive__eyebrow {
  font-size: .72rem;
  font-weight: 500;
  letter-spacing: .14em;
  text-transform: uppercase;
  color: var(--green-400);
  margin-bottom: .75rem;
}

.immersive__content h2 {
  font-family: var(--font-display);
  font-size: clamp(2rem, 4vw, 3.2rem);
  font-weight: 600;
  background: linear-gradient(to bottom, #fafafa, #a3a3a3);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  line-height: 1.15;
  margin-bottom: 1rem;
}

.immersive__text {
  color: #d4d4d4;
  max-width: 400px;
  line-height: 1.7;
  font-size: .95rem;
  margin-bottom: 2rem;
}

.immersive__cta {
  align-self: flex-start;
  background: rgba(255, 255, 255, 0.1) !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  color: white !important;
  backdrop-filter: blur(10px);
}

.immersive__cta:hover {
  background: rgba(255, 255, 255, 0.18) !important;
  border-color: rgba(255, 255, 255, 0.35) !important;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3) !important;
}

.immersive__scene {
  flex: 1;
  position: relative;
  min-height: 400px;
}

.immersive__scene spline-viewer {
  width: 100%;
  height: 100%;
  display: block;
}

@media (max-width: 768px) {
  .immersive__grid {
    flex-direction: column;
    min-height: auto;
  }

  .immersive__content {
    padding: 2rem 1.5rem;
  }

  .immersive__scene {
    min-height: 300px;
  }

  .immersive__card {
    min-height: auto;
  }
}

/* ---------------------------------------------------------
   26. SCROLL REVEAL ANIMATIONS
   --------------------------------------------------------- */
[data-reveal] {
  opacity: 0;
  transform: translateY(28px);
  transition: opacity .8s var(--ease),
              transform .8s var(--ease);
  transition-delay: calc(var(--reveal-d, 0) * 80ms);
}

[data-reveal].is-visible {
  opacity: 1;
  transform: translateY(0);
}

/* Stagger children */
[data-reveal-stagger] > * {
  opacity: 0;
  transform: translateY(24px);
  transition: opacity .7s var(--ease),
              transform .7s var(--ease);
}

[data-reveal-stagger].is-visible > * {
  opacity: 1;
  transform: translateY(0);
}

[data-reveal-stagger].is-visible > *:nth-child(1)  { transition-delay: 0ms; }
[data-reveal-stagger].is-visible > *:nth-child(2)  { transition-delay: 70ms; }
[data-reveal-stagger].is-visible > *:nth-child(3)  { transition-delay: 140ms; }
[data-reveal-stagger].is-visible > *:nth-child(4)  { transition-delay: 210ms; }
[data-reveal-stagger].is-visible > *:nth-child(5)  { transition-delay: 280ms; }
[data-reveal-stagger].is-visible > *:nth-child(6)  { transition-delay: 350ms; }
[data-reveal-stagger].is-visible > *:nth-child(7)  { transition-delay: 420ms; }
[data-reveal-stagger].is-visible > *:nth-child(8)  { transition-delay: 490ms; }
[data-reveal-stagger].is-visible > *:nth-child(9)  { transition-delay: 560ms; }
[data-reveal-stagger].is-visible > *:nth-child(10) { transition-delay: 630ms; }
[data-reveal-stagger].is-visible > *:nth-child(11) { transition-delay: 700ms; }
[data-reveal-stagger].is-visible > *:nth-child(12) { transition-delay: 770ms; }

/* Nav scrolled state */

/* ---------------------------------------------------------
   26. RESPONSIVE
   --------------------------------------------------------- */
@media (max-width: 1024px) {
  .hero__grid {
    grid-template-columns: 1fr;
    text-align: center;
  }

  .hero__content {
    max-width: 100%;
  }

  .hero__actions {
    justify-content: center;
  }

  .hero__stats {
    justify-content: center;
  }

  .hero__visual {
    order: -1;
    max-width: 400px;
    margin: 0 auto;
  }

  .hero__image-badge {
    left: auto;
    right: 1rem;
    bottom: 1.5rem;
  }

  .spotlight__grid {
    grid-template-columns: 1fr;
    gap: 2rem;
  }

  .trust__grid {
    grid-template-columns: repeat(2, 1fr);
  }

  .checkout__grid {
    grid-template-columns: 1fr;
  }

  .cart__grid {
    grid-template-columns: 1fr;
  }

  .auth__grid {
    grid-template-columns: 1fr;
    text-align: center;
  }

  .auth__list li {
    text-align: left;
  }
}

@media (max-width: 768px) {
  /* Nav mobile */
  .nav__toggle {
    display: block;
  }

  .nav__links {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: var(--surface);
    border-bottom: 1px solid var(--border);
    flex-direction: column;
    padding: 1rem var(--container-px) 1.5rem;
    gap: .15rem;
    box-shadow: var(--shadow-lg);
  }

  .nav__links.is-open {
    display: flex;
    animation: slide-down .3s var(--ease);
  }

  .nav__links a {
    width: 100%;
    padding: .7rem .85rem;
  }

  .nav__actions {
    gap: .35rem;
  }

  .nav__actions a.ghost:first-child {
    display: none; /* hide search btn on mobile */
  }

  @keyframes slide-down {
    from { opacity: 0; transform: translateY(-8px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  /* Topbar */
  .topbar__content {
    font-size: .72rem;
    flex-wrap: wrap;
    justify-content: center;
    text-align: center;
    gap: .5rem;
  }

  .topbar__actions {
    display: none;
  }

  .topbar__content .lang-switcher {
    display: flex;
    position: absolute;
    right: var(--container-px);
    top: 50%;
    transform: translateY(-50%);
  }

  /* Hero */
  .hero {
    padding-top: clamp(6rem, 10vw, 8rem);
  }

  .hero h1 {
    font-size: clamp(2.2rem, 8vw, 3.2rem);
  }

  .hero__stats {
    gap: 1.5rem;
    flex-wrap: wrap;
  }

  /* Categories */
  .categories__grid {
    grid-template-columns: 1fr 1fr;
  }

  .category-card--feature {
    grid-column: span 2;
  }

  /* Products */
  .products__grid,
  .products-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: .75rem;
  }

  /* Shop */
  .shop-hero__grid {
    grid-template-columns: 1fr;
  }

  .shop-hero__card {
    display: none;
  }

  .shop__filters {
    flex-direction: column;
    align-items: stretch;
  }

  .chips {
    overflow-x: auto;
    flex-wrap: nowrap;
    padding-bottom: .25rem;
    -webkit-overflow-scrolling: touch;
  }

  /* Product detail */
  .product__grid {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }

  .product__gallery {
    position: static;
  }

  /* Cart table - responsive */
  .cart-table thead {
    display: none;
  }

  .cart-table tbody,
  .cart-table tr,
  .cart-table td {
    display: block;
  }

  .cart-table tr {
    padding: 1rem 1.25rem;
    border-bottom: 1px solid var(--border-light);
  }

  .cart-table td {
    padding: .25rem 0;
    border: none;
  }

  .cart-table__product {
    margin-bottom: .5rem;
  }

  .cart__actions {
    flex-direction: column;
    align-items: stretch;
  }

  .coupon {
    flex-direction: column;
  }

  /* Checkout */
  .form-grid {
    grid-template-columns: 1fr;
  }

  .form-grid label.span-2 {
    grid-column: span 1;
  }

  /* Trust */
  .trust__grid {
    grid-template-columns: 1fr;
    gap: .75rem;
  }

  .trust__card {
    display: flex;
    text-align: left;
    gap: 1rem;
    padding: 1.25rem;
  }

  .trust__icon {
    margin: 0;
    flex-shrink: 0;
  }

  /* Footer */
  .footer__grid {
    grid-template-columns: 1fr 1fr;
  }

  .footer__logo {
    grid-column: span 2;
    align-items: center;
    text-align: center;
  }

  /* Newsletter */
  .newsletter__form {
    flex-direction: column;
  }

  .cta-section__input-wrapper {
    flex-direction: column;
  }

  /* Marquee */
  .marquee {
    font-size: .72rem;
  }

  /* Success */
  .success__summary {
    gap: 1.5rem;
  }
}

@media (max-width: 480px) {
  .categories__grid {
    grid-template-columns: 1fr;
  }

  .category-card--feature {
    grid-column: span 1;
  }

  .products__grid,
  .products-grid {
    grid-template-columns: 1fr;
  }

  .hero__stat-number {
    font-size: 1.4rem;
  }

  .footer__grid {
    grid-template-columns: 1fr;
  }

  .footer__logo {
    grid-column: span 1;
  }
}

/* ---------------------------------------------------------
   27. SMOOTH PAGE LOAD
   --------------------------------------------------------- */
body {
  animation: page-load .6s var(--ease);
}

@keyframes page-load {
  from { opacity: 0; }
  to   { opacity: 1; }
}
